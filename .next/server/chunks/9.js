exports.id=9,exports.ids=[9],exports.modules={77023:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},9517:(e,t,r)=>{Promise.resolve().then(r.bind(r,41084))},49983:(e,t,r)=>{Promise.resolve().then(r.bind(r,58015))},41084:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>u});var a=r(10326),s=r(25842),l=r(9718),o=r(43965);let i=(0,l.xC)({reducer:{auth:o.ZP}});var n=r(40381);function d(){return(0,s.I0)(),null}r(17577);var c=r(35323);function u({children:e}){return(0,a.jsxs)(s.zt,{store:i,children:[a.jsx(d,{}),a.jsx(n.x7,{position:"top-right"}),a.jsx(c.J,{children:e})]})}},58015:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(10326),s=r(17577),l=r(90434),o=r(35047),i=r(74131),n=r(6021),d=r(6507),c=r(79635),u=r(94019),h=r(90748),x=r(35323);let m=()=>{let{currentUser:e,logout:t,loading:r}=(0,i.a)(),{notifications:m,unreadCount:p,markAsRead:g,markAllAsRead:f}=(0,x.z)(),b=(0,o.useRouter)(),[v,y]=(0,s.useState)(!1),j=async()=>{try{await t(),b.push("/login")}catch(e){console.error("Failed to log out",e)}},w=async(t,r,a)=>{try{if(!e)return;await fetch(`/api/requests/${t}`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":e.uid},body:JSON.stringify({status:r})}),await g(a)}catch(e){console.error("Error handling request:",e)}};return r?a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 border-b border-stone-100",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between h-20",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"text-2xl font-serif font-bold text-stone-900",children:"Explokar"})})})})}):(0,a.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-slate-100 shadow-sm transition-all duration-300",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-20 items-center",children:[a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)(l.default,{href:"/",className:"flex-shrink-0 flex items-center gap-2",children:[a.jsx(n.Z,{className:"h-8 w-8 text-blue-500",strokeWidth:2.5}),a.jsx("span",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Explokar"})]})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[a.jsx(l.default,{href:"/",className:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors",children:"Home"}),a.jsx(l.default,{href:"/my-trips",className:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors",children:"My Trips"}),a.jsx(l.default,{href:"/create-trip",className:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors",children:"Create Trip"}),e&&(0,a.jsxs)("div",{className:"relative group mr-4",children:[(0,a.jsxs)("button",{className:"relative p-2 text-slate-600 hover:text-blue-600 transition-colors",children:[a.jsx(d.Z,{className:"h-6 w-6"}),p>0&&a.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 rounded-full border border-white text-[10px] flex items-center justify-center text-white font-bold",children:p>9?"9+":p})]}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all transform translate-y-2 group-hover:translate-y-0 z-50",children:[(0,a.jsxs)("div",{className:"p-3 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:"Notifications"}),p>0&&a.jsx("button",{onClick:()=>f(),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Mark all read"})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:m.length>0?m.map(e=>a.jsx("div",{className:`p-3 border-b border-slate-50 hover:bg-slate-50 transition-colors ${e.read?"":"bg-blue-50/50"}`,children:(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden flex-shrink-0",children:e.sender.photoURL?a.jsx("img",{src:e.sender.photoURL,alt:e.sender.name,className:"w-full h-full object-cover"}):a.jsx(c.Z,{className:"w-full h-full p-1.5 text-slate-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-slate-800 leading-snug",children:e.message}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(e.createdAt).toLocaleDateString()}),"JOIN_REQUEST"===e.type&&e.relatedId&&(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),w(e.relatedId,"accepted",e._id)},className:"px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700",children:"Accept"}),a.jsx("button",{onClick:t=>{t.stopPropagation(),w(e.relatedId,"rejected",e._id)},className:"px-3 py-1 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300",children:"Decline"})]})]})]})},e._id)):a.jsx("div",{className:"p-8 text-center text-slate-500 text-sm",children:"No notifications"})})]})]}),e?(0,a.jsxs)("div",{className:"relative group cursor-pointer",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 border-2 border-white shadow-sm overflow-hidden",children:e.photoURL?a.jsx("img",{src:e.photoURL,alt:"User",className:"w-full h-full object-cover"}):a.jsx(c.Z,{className:"w-full h-full p-2 text-slate-400"})}),a.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-xl border border-slate-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all transform translate-y-2 group-hover:translate-y-0",children:(0,a.jsxs)("div",{className:"p-2 space-y-1",children:[a.jsx(l.default,{href:"/profile",className:"block px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg",children:"Profile"}),a.jsx("button",{onClick:j,className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:"Logout"})]})})]}):a.jsx(l.default,{href:"/login",className:"px-5 py-2.5 rounded-full text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20",children:"Login"})]}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:()=>{y(!v)},className:"inline-flex items-center justify-center p-2 rounded-md text-slate-700 hover:text-blue-600 hover:bg-slate-50 transition-colors",children:v?a.jsx(u.Z,{className:"h-6 w-6"}):a.jsx(h.Z,{className:"h-6 w-6"})})})]})}),v&&a.jsx("div",{className:"md:hidden bg-stone-900 border-b border-white/10",children:(0,a.jsxs)("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[a.jsx(l.default,{href:"/",className:"block px-4 py-3 rounded-lg text-base font-medium text-gray-300 hover:bg-white/10 hover:text-white",onClick:()=>y(!1),children:"Home"}),a.jsx(l.default,{href:"/search",className:"block px-4 py-3 rounded-lg text-base font-medium text-gray-300 hover:bg-white/10 hover:text-white",onClick:()=>y(!1),children:"Destinations"}),e?(0,a.jsxs)(a.Fragment,{children:[a.jsx(l.default,{href:"/create-trip",className:"block px-4 py-3 rounded-lg text-base font-medium text-gray-300 hover:bg-white/10 hover:text-white",onClick:()=>y(!1),children:"Plan a Trip"}),a.jsx(l.default,{href:"/my-trips",className:"block px-4 py-3 rounded-lg text-base font-medium text-gray-300 hover:bg-white/10 hover:text-white",onClick:()=>y(!1),children:"My Trips"}),a.jsx(l.default,{href:"/profile",className:"block px-4 py-3 rounded-lg text-base font-medium text-gray-300 hover:bg-white/10 hover:text-white",onClick:()=>y(!1),children:"Profile"}),a.jsx("button",{onClick:()=>{j(),y(!1)},className:"block w-full text-left px-4 py-3 rounded-lg text-base font-medium text-red-500 hover:bg-white/5",children:"Logout"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"pt-4 border-t border-white/10 mt-2"}),a.jsx(l.default,{href:"/login",className:"block px-4 py-3 rounded-lg text-base font-medium text-gray-300 hover:bg-white/10",onClick:()=>y(!1),children:"Log in"}),a.jsx(l.default,{href:"/register",className:"block px-4 py-3 rounded-lg text-base font-medium text-white bg-blue-600 hover:bg-blue-500",onClick:()=>y(!1),children:"Sign up"})]})]})})]})}},35323:(e,t,r)=>{"use strict";r.d(t,{J:()=>n,z:()=>d});var a=r(10326),s=r(17577),l=r(74131);let o={getNotifications:async e=>(await fetch("/api/notifications",{headers:{"x-user-id":e}})).json(),markRead:async(e,t,r)=>fetch("/api/notifications",{method:"PUT",headers:{"x-user-id":e,"Content-Type":"application/json"},body:JSON.stringify({notificationId:t,markAll:r})})},i=(0,s.createContext)(void 0);function n({children:e}){let{currentUser:t}=(0,l.a)(),[r,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(0),[u,h]=(0,s.useState)(!1),x=async()=>{if(t?.uid)try{let e=await o.getNotifications(t.uid);n(e.notifications),c(e.unreadCount)}catch(e){console.error("Failed to fetch notifications",e)}},m=async e=>{if(t?.uid)try{e&&(n(t=>t.map(t=>t._id===e?{...t,read:!0}:t)),c(e=>Math.max(0,e-1)),await o.markRead(t.uid,e))}catch(e){console.error("Failed to mark as read",e),x()}},p=async()=>{if(t?.uid)try{n(e=>e.map(e=>({...e,read:!0}))),c(0),await o.markRead(t.uid,void 0,!0)}catch(e){console.error("Failed to mark all as read",e),x()}};return a.jsx(i.Provider,{value:{notifications:r,unreadCount:d,loading:u,refreshNotifications:x,markAsRead:m,markAllAsRead:p},children:e})}function d(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},74131:(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var a=r(25842),s=r(43965);function l(){let e=(0,a.I0)(),{currentUser:t,loading:r,error:l}=(0,a.v9)(e=>e.auth);return{currentUser:t,loading:r,error:l,register:(t,r,a)=>e((0,s.z2)({email:t,password:r,name:a})),login:(t,r)=>e((0,s.x4)({email:t,password:r})),loginWithGoogle:()=>e((0,s.Cb)()),logout:()=>e((0,s.kS)()),updateUserProfile:t=>e((0,s.Lj)(t))}}},43965:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>j,x4:()=>x,Cb:()=>m,kS:()=>p,z2:()=>h,Lj:()=>g});var a=r(9718),s=r(46791),l=r(42585),o=r(11552);let i=(0,l.ZF)({apiKey:"AIzaSyCGhp1cC_bCwRHFzSrI3yTDJ9LOOlZy1i4",authDomain:"explokar-a27aa.firebaseapp.com",projectId:"explokar-a27aa",storageBucket:"explokar-a27aa.firebasestorage.app",messagingSenderId:"672347253575",appId:"1:672347253575:web:24ab4e1304c83a01277a62"}),n=(0,s.v0)(i);(0,o.cF)(i);var d=r(94464),c=r(40381);let u=e=>({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL});(0,a.hg)("auth/initialize",async(e,{dispatch:t})=>new Promise(e=>{let r=(0,s.Aj)(n,a=>{t(b(a?u(a):null)),r(),e()})}));let h=(0,a.hg)("auth/register",async({email:e,password:t,name:r},{rejectWithValue:a})=>{try{let a=await (0,s.Xb)(n,e,t);return await (0,s.ck)(a.user,{displayName:r}),await d.Z.post("/api/auth",{uid:a.user.uid,email:a.user.email,name:r,photoURL:a.user.photoURL||""}),u(a.user)}catch(e){return console.error("Error during registration:",e),c.ZP.error(e.message),a(e.message)}}),x=(0,a.hg)("auth/login",async({email:e,password:t},{rejectWithValue:r})=>{try{let r=await (0,s.e5)(n,e,t);return u(r.user)}catch(e){return console.error("Error during login:",e),c.ZP.error(e.message),r(e.message)}}),m=(0,a.hg)("auth/loginWithGoogle",async(e,{rejectWithValue:t})=>{try{let e=new s.hJ,t=await (0,s.rh)(n,e);try{await d.Z.post("/api/auth",{uid:t.user.uid,email:t.user.email,name:t.user.displayName,photoURL:t.user.photoURL||""})}catch(e){console.log("User might already exist in the database.")}return u(t.user)}catch(e){return"auth/popup-blocked"===e.code?await (0,s.F6)(n,new s.hJ):(console.error("Error during Google login:",e),c.ZP.error(e.message)),t(e.message)}}),p=(0,a.hg)("auth/logout",async(e,{rejectWithValue:t})=>{try{await (0,s.w7)(n),c.ZP.success("Successfully logged out")}catch(e){return console.error("Error during logout:",e),c.ZP.error("Failed to log out"),t(e.message)}}),g=(0,a.hg)("auth/updateProfile",async(e,{getState:t,rejectWithValue:r})=>{t();let a=n.currentUser;if(!a)return r("No user logged in");try{return await (0,s.ck)(a,e),await d.Z.put(`/api/auth/${a.uid}`,{name:e.displayName,photoURL:e.photoURL}),c.ZP.success("Profile updated successfully"),e}catch(e){return console.error("Error updating profile:",e),c.ZP.error("Failed to update profile"),r(e.message)}}),f=(0,a.oM)({name:"auth",initialState:{currentUser:null,loading:!0,error:null},reducers:{setUser:(e,t)=>{e.currentUser=t.payload,e.loading=!1},setLoading:(e,t)=>{e.loading=t.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(h.pending,e=>{e.loading=!0,e.error=null}).addCase(h.fulfilled,(e,t)=>{e.currentUser=t.payload,e.loading=!1}).addCase(h.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(x.pending,e=>{e.loading=!0,e.error=null}).addCase(x.fulfilled,(e,t)=>{e.currentUser=t.payload,e.loading=!1}).addCase(x.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(m.pending,e=>{e.loading=!0,e.error=null}).addCase(m.fulfilled,(e,t)=>{e.currentUser=t.payload,e.loading=!1}).addCase(m.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(p.fulfilled,e=>{e.currentUser=null}).addCase(g.fulfilled,(e,t)=>{e.currentUser&&(e.currentUser={...e.currentUser,...t.payload})})}}),{setUser:b,setLoading:v,clearError:y}=f.actions,j=f.reducer},40139:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(19510);r(71159);var s=r(68570);let l=(0,s.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/components/Navbar.tsx`),{__esModule:o,$$typeof:i}=l;l.default;let n=(0,s.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/components/Navbar.tsx#default`);function d({children:e}){return(0,a.jsxs)(a.Fragment,{children:[a.jsx(n,{}),a.jsx("main",{className:"pt-20 min-h-screen",children:e})]})}},15495:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>u});var a=r(19510),s=r(45317),l=r.n(s);r(5023);var o=r(68570);let i=(0,o.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/providers.tsx`),{__esModule:n,$$typeof:d}=i;i.default;let c=(0,o.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/providers.tsx#Providers`),u={title:"Explokar Travel App",description:"Explore the world with tailored travel experiences"};function h({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:l().className,children:a.jsx(c,{children:e})})})}},5023:()=>{}};