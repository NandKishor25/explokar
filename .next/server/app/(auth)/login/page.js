(()=>{var e={};e.id=665,e.ids=[665],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},6682:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(63272),t(35866),t(15495);var s=t(23191),a=t(88716),i=t(37922),o=t.n(i),l=t(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let d=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,63272)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(auth)/login/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,15495)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(auth)/login/page.tsx"],u="/(auth)/login/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77023:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},9517:(e,r,t)=>{Promise.resolve().then(t.bind(t,41084))},82376:(e,r,t)=>{Promise.resolve().then(t.bind(t,1439))},87888:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1439:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(10326),a=t(17577),i=t(90434),o=t(35047),l=t(74131),n=t(87888),d=t(40381);let c=()=>{let[e,r]=(0,a.useState)(""),[t,c]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),{login:m,loginWithGoogle:g}=(0,l.a)(),f=(0,o.useRouter)(),y=async r=>{r.preventDefault();try{p(""),x(!0),await m(e,t),d.ZP.success("Successfully logged in!"),f.push("/")}catch(r){let e=r.message||"Failed to log in. Please check your credentials.";p(e),d.ZP.error(e)}finally{x(!1)}},b=async()=>{try{p(""),x(!0),await g(),d.ZP.success("Successfully logged in with Google!"),f.push("/")}catch(r){let e="Failed to log in with Google";"auth/unauthorized-domain"===r.code?e="This domain is not authorized. Please use the official application URL.":"auth/popup-blocked"===r.code&&(e="Popup was blocked. Please allow popups for this site."),p(e),d.ZP.error(e)}finally{x(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen grid grid-cols-1 lg:grid-cols-2",children:[s.jsx("div",{className:"flex flex-col justify-center px-8 sm:px-12 lg:px-24 py-12 bg-white",children:(0,s.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[s.jsx(i.default,{href:"/",className:"text-2xl font-bold text-slate-900 tracking-tight mb-12 block",children:"Explokar"}),s.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-slate-500 mb-8",children:"Please enter your details to sign in."}),u&&(0,s.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-100 text-red-600 px-4 py-3 rounded-lg flex items-start gap-2 text-sm",children:[s.jsx(n.Z,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{children:u})]}),(0,s.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email address"}),s.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 transition-colors",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),s.jsx("input",{id:"password",type:"password",required:!0,value:t,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 transition-colors",placeholder:"Enter your password"})]}),s.jsx("button",{type:"submit",disabled:h,className:"w-full py-2.5 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors disabled:opacity-50",children:h?"Signing in...":"Sign in"})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or continue with"})})]}),(0,s.jsxs)("button",{onClick:b,disabled:h,className:"mt-6 w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:[(0,s.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),(0,s.jsxs)("p",{className:"mt-8 text-center text-sm text-slate-600",children:["Don't have an account?"," ",s.jsx(i.default,{href:"/register",className:"font-medium text-slate-900 hover:underline",children:"Sign up"})]})]})}),(0,s.jsxs)("div",{className:"hidden lg:block relative bg-slate-900",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=2021&q=80",alt:"Travel",className:"absolute inset-0 w-full h-full object-cover opacity-60 mix-blend-overlay"}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-12 text-white",children:[s.jsx("blockquote",{className:"text-2xl font-medium leading-relaxed mb-4",children:'"Explokar helped me find the perfect travel buddies for my trip to Bali. Best experience ever!"'}),s.jsx("p",{className:"font-bold",children:"Sofia Davis"}),s.jsx("p",{className:"text-slate-400",children:"Travel Enthusiast"})]})]})]})}},41084:(e,r,t)=>{"use strict";t.d(r,{Providers:()=>u});var s=t(10326),a=t(25842),i=t(9718),o=t(43965);let l=(0,i.xC)({reducer:{auth:o.ZP}});var n=t(40381);function d(){return(0,a.I0)(),null}t(17577);var c=t(35323);function u({children:e}){return(0,s.jsxs)(a.zt,{store:l,children:[s.jsx(d,{}),s.jsx(n.x7,{position:"top-right"}),s.jsx(c.J,{children:e})]})}},35323:(e,r,t)=>{"use strict";t.d(r,{J:()=>n,z:()=>d});var s=t(10326),a=t(17577),i=t(74131);let o={getNotifications:async e=>(await fetch("/api/notifications",{headers:{"x-user-id":e}})).json(),markRead:async(e,r,t)=>fetch("/api/notifications",{method:"PUT",headers:{"x-user-id":e,"Content-Type":"application/json"},body:JSON.stringify({notificationId:r,markAll:t})})},l=(0,a.createContext)(void 0);function n({children:e}){let{currentUser:r}=(0,i.a)(),[t,n]=(0,a.useState)([]),[d,c]=(0,a.useState)(0),[u,p]=(0,a.useState)(!1),h=async()=>{if(r?.uid)try{let e=await o.getNotifications(r.uid);n(e.notifications),c(e.unreadCount)}catch(e){console.error("Failed to fetch notifications",e)}},x=async e=>{if(r?.uid)try{e&&(n(r=>r.map(r=>r._id===e?{...r,read:!0}:r)),c(e=>Math.max(0,e-1)),await o.markRead(r.uid,e))}catch(e){console.error("Failed to mark as read",e),h()}},m=async()=>{if(r?.uid)try{n(e=>e.map(e=>({...e,read:!0}))),c(0),await o.markRead(r.uid,void 0,!0)}catch(e){console.error("Failed to mark all as read",e),h()}};return s.jsx(l.Provider,{value:{notifications:t,unreadCount:d,loading:u,refreshNotifications:h,markAsRead:x,markAllAsRead:m},children:e})}function d(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},74131:(e,r,t)=>{"use strict";t.d(r,{a:()=>i});var s=t(25842),a=t(43965);function i(){let e=(0,s.I0)(),{currentUser:r,loading:t,error:i}=(0,s.v9)(e=>e.auth);return{currentUser:r,loading:t,error:i,register:(r,t,s)=>e((0,a.z2)({email:r,password:t,name:s})),login:(r,t)=>e((0,a.x4)({email:r,password:t})),loginWithGoogle:()=>e((0,a.Cb)()),logout:()=>e((0,a.kS)()),updateUserProfile:r=>e((0,a.Lj)(r))}}},43965:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>w,x4:()=>h,Cb:()=>x,kS:()=>m,z2:()=>p,Lj:()=>g});var s=t(9718),a=t(46791),i=t(42585),o=t(11552);let l=(0,i.ZF)({apiKey:"AIzaSyCGhp1cC_bCwRHFzSrI3yTDJ9LOOlZy1i4",authDomain:"explokar-a27aa.firebaseapp.com",projectId:"explokar-a27aa",storageBucket:"explokar-a27aa.firebasestorage.app",messagingSenderId:"672347253575",appId:"1:672347253575:web:24ab4e1304c83a01277a62"}),n=(0,a.v0)(l);(0,o.cF)(l);var d=t(94464),c=t(40381);let u=e=>({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL});(0,s.hg)("auth/initialize",async(e,{dispatch:r})=>new Promise(e=>{let t=(0,a.Aj)(n,s=>{r(y(s?u(s):null)),t(),e()})}));let p=(0,s.hg)("auth/register",async({email:e,password:r,name:t},{rejectWithValue:s})=>{try{let s=await (0,a.Xb)(n,e,r);return await (0,a.ck)(s.user,{displayName:t}),await d.Z.post("/api/auth",{uid:s.user.uid,email:s.user.email,name:t,photoURL:s.user.photoURL||""}),u(s.user)}catch(e){return console.error("Error during registration:",e),c.ZP.error(e.message),s(e.message)}}),h=(0,s.hg)("auth/login",async({email:e,password:r},{rejectWithValue:t})=>{try{let t=await (0,a.e5)(n,e,r);return u(t.user)}catch(e){return console.error("Error during login:",e),c.ZP.error(e.message),t(e.message)}}),x=(0,s.hg)("auth/loginWithGoogle",async(e,{rejectWithValue:r})=>{try{let e=new a.hJ,r=await (0,a.rh)(n,e);try{await d.Z.post("/api/auth",{uid:r.user.uid,email:r.user.email,name:r.user.displayName,photoURL:r.user.photoURL||""})}catch(e){console.log("User might already exist in the database.")}return u(r.user)}catch(e){return"auth/popup-blocked"===e.code?await (0,a.F6)(n,new a.hJ):(console.error("Error during Google login:",e),c.ZP.error(e.message)),r(e.message)}}),m=(0,s.hg)("auth/logout",async(e,{rejectWithValue:r})=>{try{await (0,a.w7)(n),c.ZP.success("Successfully logged out")}catch(e){return console.error("Error during logout:",e),c.ZP.error("Failed to log out"),r(e.message)}}),g=(0,s.hg)("auth/updateProfile",async(e,{getState:r,rejectWithValue:t})=>{r();let s=n.currentUser;if(!s)return t("No user logged in");try{return await (0,a.ck)(s,e),await d.Z.put(`/api/auth/${s.uid}`,{name:e.displayName,photoURL:e.photoURL}),c.ZP.success("Profile updated successfully"),e}catch(e){return console.error("Error updating profile:",e),c.ZP.error("Failed to update profile"),t(e.message)}}),f=(0,s.oM)({name:"auth",initialState:{currentUser:null,loading:!0,error:null},reducers:{setUser:(e,r)=>{e.currentUser=r.payload,e.loading=!1},setLoading:(e,r)=>{e.loading=r.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(p.pending,e=>{e.loading=!0,e.error=null}).addCase(p.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(p.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(h.pending,e=>{e.loading=!0,e.error=null}).addCase(h.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(h.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(x.pending,e=>{e.loading=!0,e.error=null}).addCase(x.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(x.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(m.fulfilled,e=>{e.currentUser=null}).addCase(g.fulfilled,(e,r)=>{e.currentUser&&(e.currentUser={...e.currentUser,...r.payload})})}}),{setUser:y,setLoading:b,clearError:v}=f.actions,w=f.reducer},63272:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>i,default:()=>l});var s=t(68570);let a=(0,s.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(auth)/login/page.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let l=(0,s.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(auth)/login/page.tsx#default`)},15495:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p,metadata:()=>u});var s=t(19510),a=t(45317),i=t.n(a);t(5023);var o=t(68570);let l=(0,o.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/providers.tsx`),{__esModule:n,$$typeof:d}=l;l.default;let c=(0,o.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/providers.tsx#Providers`),u={title:"Explokar Travel App",description:"Explore the world with tailored travel experiences"};function p({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:s.jsx(c,{children:e})})})}},5023:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,19,382],()=>t(6682));module.exports=s})();