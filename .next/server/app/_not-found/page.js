(()=>{var e={};e.id=409,e.ids=[409],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},901:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>g,tree:()=>l}),t(7352),t(35866),t(15495);var a=t(23191),o=t(88716),s=t(37922),i=t.n(s),n=t(95231),u={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>n[e]);t.d(r,u);let l=["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,15495)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=[],c="/_not-found/page",p={require:t,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},77023:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},9517:(e,r,t)=>{Promise.resolve().then(t.bind(t,41084))},41084:(e,r,t)=>{"use strict";t.d(r,{Providers:()=>c});var a=t(10326),o=t(25842),s=t(9718),i=t(43965);let n=(0,s.xC)({reducer:{auth:i.ZP}});var u=t(40381);function l(){return(0,o.I0)(),null}t(17577);var d=t(35323);function c({children:e}){return(0,a.jsxs)(o.zt,{store:n,children:[a.jsx(l,{}),a.jsx(u.x7,{position:"top-right"}),a.jsx(d.J,{children:e})]})}},35323:(e,r,t)=>{"use strict";t.d(r,{J:()=>u,z:()=>l});var a=t(10326),o=t(17577),s=t(74131);let i={getNotifications:async e=>(await fetch("/api/notifications",{headers:{"x-user-id":e}})).json(),markRead:async(e,r,t)=>fetch("/api/notifications",{method:"PUT",headers:{"x-user-id":e,"Content-Type":"application/json"},body:JSON.stringify({notificationId:r,markAll:t})})},n=(0,o.createContext)(void 0);function u({children:e}){let{currentUser:r}=(0,s.a)(),[t,u]=(0,o.useState)([]),[l,d]=(0,o.useState)(0),[c,p]=(0,o.useState)(!1),g=async()=>{if(r?.uid)try{let e=await i.getNotifications(r.uid);u(e.notifications),d(e.unreadCount)}catch(e){console.error("Failed to fetch notifications",e)}},f=async e=>{if(r?.uid)try{e&&(u(r=>r.map(r=>r._id===e?{...r,read:!0}:r)),d(e=>Math.max(0,e-1)),await i.markRead(r.uid,e))}catch(e){console.error("Failed to mark as read",e),g()}},h=async()=>{if(r?.uid)try{u(e=>e.map(e=>({...e,read:!0}))),d(0),await i.markRead(r.uid,void 0,!0)}catch(e){console.error("Failed to mark all as read",e),g()}};return a.jsx(n.Provider,{value:{notifications:t,unreadCount:l,loading:c,refreshNotifications:g,markAsRead:f,markAllAsRead:h},children:e})}function l(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},74131:(e,r,t)=>{"use strict";t.d(r,{a:()=>s});var a=t(25842),o=t(43965);function s(){let e=(0,a.I0)(),{currentUser:r,loading:t,error:s}=(0,a.v9)(e=>e.auth);return{currentUser:r,loading:t,error:s,register:(r,t,a)=>e((0,o.z2)({email:r,password:t,name:a})),login:(r,t)=>e((0,o.x4)({email:r,password:t})),loginWithGoogle:()=>e((0,o.Cb)()),logout:()=>e((0,o.kS)()),updateUserProfile:r=>e((0,o.Lj)(r))}}},43965:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>b,x4:()=>g,Cb:()=>f,kS:()=>h,z2:()=>p,Lj:()=>x});var a=t(9718),o=t(46791),s=t(42585),i=t(11552);let n=(0,s.ZF)({apiKey:"AIzaSyCGhp1cC_bCwRHFzSrI3yTDJ9LOOlZy1i4",authDomain:"explokar-a27aa.firebaseapp.com",projectId:"explokar-a27aa",storageBucket:"explokar-a27aa.firebasestorage.app",messagingSenderId:"672347253575",appId:"1:672347253575:web:24ab4e1304c83a01277a62"}),u=(0,o.v0)(n);(0,i.cF)(n);var l=t(94464),d=t(40381);let c=e=>({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL});(0,a.hg)("auth/initialize",async(e,{dispatch:r})=>new Promise(e=>{let t=(0,o.Aj)(u,a=>{r(y(a?c(a):null)),t(),e()})}));let p=(0,a.hg)("auth/register",async({email:e,password:r,name:t},{rejectWithValue:a})=>{try{let a=await (0,o.Xb)(u,e,r);return await (0,o.ck)(a.user,{displayName:t}),await l.Z.post("/api/auth",{uid:a.user.uid,email:a.user.email,name:t,photoURL:a.user.photoURL||""}),c(a.user)}catch(e){return console.error("Error during registration:",e),d.ZP.error(e.message),a(e.message)}}),g=(0,a.hg)("auth/login",async({email:e,password:r},{rejectWithValue:t})=>{try{let t=await (0,o.e5)(u,e,r);return c(t.user)}catch(e){return console.error("Error during login:",e),d.ZP.error(e.message),t(e.message)}}),f=(0,a.hg)("auth/loginWithGoogle",async(e,{rejectWithValue:r})=>{try{let e=new o.hJ,r=await (0,o.rh)(u,e);try{await l.Z.post("/api/auth",{uid:r.user.uid,email:r.user.email,name:r.user.displayName,photoURL:r.user.photoURL||""})}catch(e){console.log("User might already exist in the database.")}return c(r.user)}catch(e){return"auth/popup-blocked"===e.code?await (0,o.F6)(u,new o.hJ):(console.error("Error during Google login:",e),d.ZP.error(e.message)),r(e.message)}}),h=(0,a.hg)("auth/logout",async(e,{rejectWithValue:r})=>{try{await (0,o.w7)(u),d.ZP.success("Successfully logged out")}catch(e){return console.error("Error during logout:",e),d.ZP.error("Failed to log out"),r(e.message)}}),x=(0,a.hg)("auth/updateProfile",async(e,{getState:r,rejectWithValue:t})=>{r();let a=u.currentUser;if(!a)return t("No user logged in");try{return await (0,o.ck)(a,e),await l.Z.put(`/api/auth/${a.uid}`,{name:e.displayName,photoURL:e.photoURL}),d.ZP.success("Profile updated successfully"),e}catch(e){return console.error("Error updating profile:",e),d.ZP.error("Failed to update profile"),t(e.message)}}),m=(0,a.oM)({name:"auth",initialState:{currentUser:null,loading:!0,error:null},reducers:{setUser:(e,r)=>{e.currentUser=r.payload,e.loading=!1},setLoading:(e,r)=>{e.loading=r.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(p.pending,e=>{e.loading=!0,e.error=null}).addCase(p.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(p.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(g.pending,e=>{e.loading=!0,e.error=null}).addCase(g.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(g.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(f.pending,e=>{e.loading=!0,e.error=null}).addCase(f.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(f.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(h.fulfilled,e=>{e.currentUser=null}).addCase(x.fulfilled,(e,r)=>{e.currentUser&&(e.currentUser={...e.currentUser,...r.payload})})}}),{setUser:y,setLoading:v,clearError:P}=m.actions,b=m.reducer},16399:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isNotFoundError:function(){return o},notFound:function(){return a}});let t="NEXT_NOT_FOUND";function a(){let e=Error(t);throw e.digest=t,e}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},7352:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{PARALLEL_ROUTE_DEFAULT_PATH:function(){return o},default:function(){return s}});let a=t(16399),o="next/dist/client/components/parallel-route-default.js";function s(){(0,a.notFound)()}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},15495:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p,metadata:()=>c});var a=t(19510),o=t(45317),s=t.n(o);t(5023);var i=t(68570);let n=(0,i.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/providers.tsx`),{__esModule:u,$$typeof:l}=n;n.default;let d=(0,i.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/providers.tsx#Providers`),c={title:"Explokar Travel App",description:"Explore the world with tailored travel experiences"};function p({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:s().className,children:a.jsx(d,{children:e})})})}},5023:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,19],()=>t(901));module.exports=a})();