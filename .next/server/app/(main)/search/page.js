(()=>{var e={};e.id=580,e.ids=[580],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},74153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l}),r(36710),r(40139),r(35866),r(15495);var s=r(23191),a=r(88716),i=r(37922),o=r.n(i),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["(main)",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,36710)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,40139)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,15495)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/search/page.tsx"],p="/(main)/search/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},98835:(e,t,r)=>{Promise.resolve().then(r.bind(r,36651))},6507:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},37358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6021:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]])},77636:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},90748:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},79635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},94019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(76557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},36651:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(10326),a=r(17577),i=r(35047),o=r(90434);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var d=r(77636),l=r(37358),c=r(24061),p=r(24861),u=r(40381);let m=()=>{let e=(0,i.useSearchParams)(),[t,r]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0),[h,g]=(0,a.useState)({from:e?.get("from")||"",to:e?.get("to")||"",date:e?.get("date")||"",transportMode:"",preferredGender:""}),[y,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g(t=>({...t,from:e?.get("from")||t.from,to:e?.get("to")||t.to,date:e?.get("date")||t.date}))},[e]),(0,a.useEffect)(()=>{(async()=>{try{x(!0);let e=new URLSearchParams;h.from&&e.append("startLocation",h.from),h.to&&e.append("destination",h.to),h.date&&e.append("startDate",h.date),h.transportMode&&e.append("transportMode",h.transportMode),h.preferredGender&&e.append("preferredGender",h.preferredGender);let t=await p.e.searchTrips(e);r(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching trips:",e),u.ZP.error("Failed to load trips"),r([])}finally{x(!1)}})()},[h]);let b=e=>{let{name:t,value:r}=e.target;g(e=>({...e,[t]:r}))},j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Search Results"}),(0,s.jsxs)("button",{onClick:()=>f(!y),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[s.jsx(n,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),y&&s.jsx("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700 mb-1",children:"From"}),s.jsx("input",{type:"text",id:"from",name:"from",value:h.from,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Starting location"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),s.jsx("input",{type:"text",id:"to",name:"to",value:h.to,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Destination"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",id:"date",name:"date",value:h.date,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"transportMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport Mode"}),(0,s.jsxs)("select",{id:"transportMode",name:"transportMode",value:h.transportMode,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[s.jsx("option",{value:"",children:"Any"}),s.jsx("option",{value:"flight",children:"Flight"}),s.jsx("option",{value:"train",children:"Train"}),s.jsx("option",{value:"car",children:"Car"}),s.jsx("option",{value:"bus",children:"Bus"}),s.jsx("option",{value:"bike",children:"Bike"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"preferredGender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Gender"}),(0,s.jsxs)("select",{id:"preferredGender",name:"preferredGender",value:h.preferredGender,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[s.jsx("option",{value:"",children:"Any"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"})]})]})]})}),m?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):0===t.length?(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No trips found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search filters or create your own trip!"}),s.jsx(o.default,{href:"/create-trip",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors inline-block",children:"Create a Trip"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,s.jsxs)(o.default,{href:`/trip/${e._id}`,className:"bg-white shadow rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:e.imageUrl||"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",alt:e.title,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(d.Z,{className:"w-4 h-4 mr-1"}),(0,s.jsxs)("span",{children:[e.startLocation," to ",e.destination]})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(l.Z,{className:"w-4 h-4 mr-1"}),(0,s.jsxs)("span",{children:[j(e.startDate)," â€¢ ",e.duration," days"]})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 mb-4",children:[s.jsx(c.Z,{className:"w-4 h-4 mr-1"}),(0,s.jsxs)("span",{children:["Looking for ",e.maxParticipants," travel buddies"]})]}),(0,s.jsxs)("div",{className:"flex items-center mt-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2",children:e.createdBy.photoURL?s.jsx("img",{src:e.createdBy.photoURL,alt:e.createdBy.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100 text-indigo-600 text-sm font-bold",children:e.createdBy.name.charAt(0).toUpperCase()})}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Created by ",e.createdBy.name]})]})]})]},e._id))})]})},x=()=>s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}),children:s.jsx(m,{})})},51471:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=r(94464).Z.create({headers:{"Content-Type":"application/json"}})},24861:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var s=r(51471);let a={searchTrips:async e=>(await s.Z.get(`/api/trips/search?${e.toString()}`)).data,getTripById:async e=>(await s.Z.get(`/api/trips/${e}`)).data,getUserTrips:async e=>(await s.Z.get(`/api/trips/user/${e}`)).data,createTrip:async e=>(await s.Z.post("/api/trips",e)).data,deleteTrip:async e=>(await s.Z.delete(`/api/trips/${e}`)).data,joinTrip:async(e,t)=>(await s.Z.post(`/api/trips/${e}/join`,t)).data,leaveTrip:async(e,t)=>(await s.Z.post(`/api/trips/${e}/leave`,t)).data,getComments:async e=>(await s.Z.get(`/api/trips/${e}/comments`)).data,addComment:async(e,t)=>(await s.Z.post(`/api/trips/${e}/comments`,t)).data,getExpenses:async e=>{try{return(await s.Z.get(`/api/trips/${e}/expenses`)).data}catch(e){return console.warn("Expense API not ready, returning mock data"),[]}},addExpense:async(e,t)=>(await s.Z.post(`/api/trips/${e}/expenses`,t)).data,deleteExpense:async(e,t)=>(await s.Z.delete(`/api/trips/${e}/expenses/${t}`)).data}},36710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>n});var s=r(68570);let a=(0,s.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/search/page.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let n=(0,s.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/search/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,19,382,9],()=>r(74153));module.exports=s})();