(()=>{var e={};e.id=870,e.ids=[870],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},3793:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(71808),s(40139),s(35866),s(15495);var r=s(23191),a=s(88716),i=s(37922),n=s.n(i),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(main)",{children:["my-trips",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,71808)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/my-trips/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,40139)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,15495)),"/Users/guidertechnologies/Downloads/explokar-main 2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/my-trips/page.tsx"],p="/(main)/my-trips/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/my-trips/page",pathname:"/my-trips",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},57523:(e,t,s)=>{Promise.resolve().then(s.bind(s,68475))},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},68475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(10326),a=s(17577),i=s(35047),n=s(74131),l=s(24861),o=s(61768),c=s(6021),d=s(83855);let p=()=>{let{currentUser:e,loading:t}=(0,n.a)(),s=(0,i.useRouter)(),[p,x]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let s=async()=>{if(!e){m(!1);return}try{m(!0),g(null);let t=await l.e.getUserTrips(e.uid);x(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching user trips:",e),g("Failed to load your trips. Please try again later."),x([])}finally{m(!1)}};t||s()},[e,t]),t||u)?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white pt-24 pb-12",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})})}):e?h?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white pt-24 pb-12",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-8 text-center",children:[r.jsx("p",{className:"text-red-600 text-lg",children:h}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:"Retry"})]})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white pt-24 pb-12",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"My Trips"}),r.jsx("p",{className:"text-slate-600",children:"Manage and view all your created trips"})]}),p.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>r.jsx(o.Z,{trip:e},e._id))}):(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center",children:r.jsx(c.Z,{className:"w-12 h-12 text-blue-600",strokeWidth:2})})}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"No trips yet"}),r.jsx("p",{className:"text-slate-600 mb-8 max-w-md mx-auto",children:"You haven't created any trips yet. Start planning your next adventure and share it with fellow travelers!"}),(0,r.jsxs)("button",{onClick:()=>s.push("/create-trip"),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors font-medium shadow-lg shadow-blue-500/20",children:[r.jsx(d.Z,{className:"w-5 h-5"}),"Create Your First Trip"]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white pt-24 pb-12",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in to view your trips"}),r.jsx("button",{onClick:()=>s.push("/login"),className:"px-6 py-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors font-medium shadow-lg shadow-blue-500/20",children:"Log In"})]})})})}},61768:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var r=s(10326);s(17577);var a=s(90434),i=s(77636),n=s(37358),l=s(24061);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,s(76557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var c=s(2453),d=s(40381);let p=({trip:e})=>{let t=async t=>{t.preventDefault(),t.stopPropagation();let s=`${window.location.origin}/trip/${e._id}`,r={title:e.title,text:`Check out this trip to ${e.destination}!`,url:s};try{navigator.share?await navigator.share(r):(await navigator.clipboard.writeText(s),d.ZP.success("Link copied to clipboard!"))}catch(e){console.error("Error sharing:",e)}};return(0,r.jsxs)("div",{className:"relative group bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-100",children:[(0,r.jsxs)(a.default,{href:`/trip/${e._id}`,className:"block p-6",children:[r.jsx("div",{className:"flex justify-between items-start mb-4",children:r.jsx("h3",{className:"text-xl font-bold text-gray-900 pr-8 line-clamp-2",children:e.title})}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[r.jsx(i.Z,{className:"w-4 h-4 mr-2 flex-shrink-0 text-indigo-500"}),r.jsx("span",{className:"truncate",children:e.destination})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[r.jsx(n.Z,{className:"w-4 h-4 mr-2 flex-shrink-0 text-indigo-500"}),(0,r.jsxs)("span",{className:"truncate",children:[(e=>{let t=new Date(e);return(0,c.WU)(t,"MMM d, yyyy")})(e.startDate)," â€¢ ",e.duration," days"]})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-6",children:[r.jsx(l.Z,{className:"w-4 h-4 mr-2 flex-shrink-0 text-indigo-500"}),(0,r.jsxs)("span",{children:[e.participants.length,"/",e.maxParticipants," travelers"]})]}),(0,r.jsxs)("div",{className:"flex items-center pt-4 border-t border-gray-100",children:[r.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0 ring-2 ring-gray-50",children:e.createdBy.photoURL?r.jsx("img",{src:e.createdBy.photoURL,alt:e.createdBy.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100 text-indigo-600 text-sm font-bold",children:e.createdBy.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 truncate",children:["By ",e.createdBy.name]})]})]}),r.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-all focus:outline-none","aria-label":"Share trip",title:"Share trip",children:r.jsx(o,{className:"w-5 h-5"})})]})}},51471:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=s(94464).Z.create({headers:{"Content-Type":"application/json"}})},24861:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(51471);let a={searchTrips:async e=>(await r.Z.get(`/api/trips/search?${e.toString()}`)).data,getTripById:async e=>(await r.Z.get(`/api/trips/${e}`)).data,getUserTrips:async e=>(await r.Z.get(`/api/trips/user/${e}`)).data,createTrip:async e=>(await r.Z.post("/api/trips",e)).data,deleteTrip:async e=>(await r.Z.delete(`/api/trips/${e}`)).data,joinTrip:async(e,t)=>(await r.Z.post(`/api/trips/${e}/join`,t)).data,leaveTrip:async(e,t)=>(await r.Z.post(`/api/trips/${e}/leave`,t)).data,getComments:async e=>(await r.Z.get(`/api/trips/${e}/comments`)).data,addComment:async(e,t)=>(await r.Z.post(`/api/trips/${e}/comments`,t)).data,getExpenses:async e=>{try{return(await r.Z.get(`/api/trips/${e}/expenses`)).data}catch(e){return console.warn("Expense API not ready, returning mock data"),[]}},addExpense:async(e,t)=>(await r.Z.post(`/api/trips/${e}/expenses`,t)).data,deleteExpense:async(e,t)=>(await r.Z.delete(`/api/trips/${e}/expenses/${t}`)).data}},71808:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=s(68570);let a=(0,r.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/my-trips/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,r.createProxy)(String.raw`/Users/guidertechnologies/Downloads/explokar-main 2/src/app/(main)/my-trips/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,19,382,762,9],()=>s(3793));module.exports=r})();