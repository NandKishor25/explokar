(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{9342:function(e,t,a){Promise.resolve().then(a.bind(a,8681))},4241:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(1066).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9321:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(1066).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1240:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(1066).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6463:function(e,t,a){"use strict";var r=a(1169);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},8681:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(7437),s=a(2265),n=a(6463),i=a(7138);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,a(1066).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var d=a(9321),l=a(4241),c=a(1240),m=a(6223),u=a(8726);let p=()=>{let e=(0,n.useSearchParams)(),[t,a]=(0,s.useState)([]),[p,h]=(0,s.useState)(!0),[x,f]=(0,s.useState)({from:(null==e?void 0:e.get("from"))||"",to:(null==e?void 0:e.get("to"))||"",date:(null==e?void 0:e.get("date"))||"",transportMode:"",preferredGender:""}),[g,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{f(t=>({...t,from:(null==e?void 0:e.get("from"))||t.from,to:(null==e?void 0:e.get("to"))||t.to,date:(null==e?void 0:e.get("date"))||t.date}))},[e]),(0,s.useEffect)(()=>{(async()=>{try{h(!0);let e=new URLSearchParams;x.from&&e.append("startLocation",x.from),x.to&&e.append("destination",x.to),x.date&&e.append("startDate",x.date),x.transportMode&&e.append("transportMode",x.transportMode),x.preferredGender&&e.append("preferredGender",x.preferredGender);let t=await m.e.searchTrips(e);a(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching trips:",e),u.ZP.error("Failed to load trips"),a([])}finally{h(!1)}})()},[x]);let b=e=>{let{name:t,value:a}=e.target;f(e=>({...e,[t]:a}))},j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Search Results"}),(0,r.jsxs)("button",{onClick:()=>y(!g),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,r.jsx)(o,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),g&&(0,r.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700 mb-1",children:"From"}),(0,r.jsx)("input",{type:"text",id:"from",name:"from",value:x.from,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Starting location"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),(0,r.jsx)("input",{type:"text",id:"to",name:"to",value:x.to,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Destination"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,r.jsx)("input",{type:"date",id:"date",name:"date",value:x.date,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"transportMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport Mode"}),(0,r.jsxs)("select",{id:"transportMode",name:"transportMode",value:x.transportMode,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"Any"}),(0,r.jsx)("option",{value:"flight",children:"Flight"}),(0,r.jsx)("option",{value:"train",children:"Train"}),(0,r.jsx)("option",{value:"car",children:"Car"}),(0,r.jsx)("option",{value:"bus",children:"Bus"}),(0,r.jsx)("option",{value:"bike",children:"Bike"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"preferredGender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Gender"}),(0,r.jsxs)("select",{id:"preferredGender",name:"preferredGender",value:x.preferredGender,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"Any"}),(0,r.jsx)("option",{value:"male",children:"Male"}),(0,r.jsx)("option",{value:"female",children:"Female"})]})]})]})}),p?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):0===t.length?(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No trips found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search filters or create your own trip!"}),(0,r.jsx)(i.default,{href:"/create-trip",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors inline-block",children:"Create a Trip"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,r.jsxs)(i.default,{href:"/trip/".concat(e._id),className:"bg-white shadow rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,r.jsx)("div",{className:"h-48 overflow-hidden",children:(0,r.jsx)("img",{src:e.imageUrl||"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",alt:e.title,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),(0,r.jsxs)("span",{children:[e.startLocation," to ",e.destination]})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,r.jsx)(l.Z,{className:"w-4 h-4 mr-1"}),(0,r.jsxs)("span",{children:[j(e.startDate)," â€¢ ",e.duration," days"]})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 mb-4",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),(0,r.jsxs)("span",{children:["Looking for ",e.maxParticipants," travel buddies"]})]}),(0,r.jsxs)("div",{className:"flex items-center mt-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2",children:e.createdBy.photoURL?(0,r.jsx)("img",{src:e.createdBy.photoURL,alt:e.createdBy.name,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100 text-indigo-600 text-sm font-bold",children:e.createdBy.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Created by ",e.createdBy.name]})]})]})]},e._id))})]})};var h=()=>(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}),children:(0,r.jsx)(p,{})})},4438:function(e,t,a){"use strict";let r=a(8472).Z.create({headers:{"Content-Type":"application/json"}});t.Z=r},6223:function(e,t,a){"use strict";a.d(t,{e:function(){return s}});var r=a(4438);let s={searchTrips:async e=>(await r.Z.get("/api/trips/search?".concat(e.toString()))).data,getTripById:async e=>(await r.Z.get("/api/trips/".concat(e))).data,getUserTrips:async e=>(await r.Z.get("/api/trips/user/".concat(e))).data,createTrip:async e=>(await r.Z.post("/api/trips",e)).data,deleteTrip:async e=>(await r.Z.delete("/api/trips/".concat(e))).data,joinTrip:async(e,t)=>(await r.Z.post("/api/trips/".concat(e,"/join"),t)).data,leaveTrip:async(e,t)=>(await r.Z.post("/api/trips/".concat(e,"/leave"),t)).data,getComments:async e=>(await r.Z.get("/api/trips/".concat(e,"/comments"))).data,addComment:async(e,t)=>(await r.Z.post("/api/trips/".concat(e,"/comments"),t)).data,getExpenses:async e=>{try{return(await r.Z.get("/api/trips/".concat(e,"/expenses"))).data}catch(e){return console.warn("Expense API not ready, returning mock data"),[]}},addExpense:async(e,t)=>(await r.Z.post("/api/trips/".concat(e,"/expenses"),t)).data,deleteExpense:async(e,t)=>(await r.Z.delete("/api/trips/".concat(e,"/expenses/").concat(t))).data}}},function(e){e.O(0,[18,233,971,23,744],function(){return e(e.s=9342)}),_N_E=e.O()}]);