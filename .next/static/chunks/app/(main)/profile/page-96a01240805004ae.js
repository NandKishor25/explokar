(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{349:function(e,a,t){Promise.resolve().then(t.bind(t,5868))},4241:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9321:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2513:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9338:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},883:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2022:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(1066).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5868:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return j}});var r=t(7437),s=t(2265),i=t(7138),l=t(7048),n=t(2022),o=t(1066);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),c=(0,o.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),u=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var x=t(9338),h=t(9321),m=t(2513),p=t(883),g=t(4241);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,o.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),y=(0,o.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var b=t(6223),w=t(6648),v=t(8726),j=()=>{let{currentUser:e,loading:a}=(0,l.a)(),[t,o]=(0,s.useState)([]),[j,N]=(0,s.useState)([]),[k,Z]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{if(!a&&!e){Z(!1);return}if(e)try{let[a,t]=await Promise.all([b.e.getUserTrips(e.uid),w.p.getUserReviews(e.uid)]);o(Array.isArray(a)?a:[]),N(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching user data:",e),v.ZP.error("Failed to load profile data")}finally{Z(!1)}})()},[e,a]);let U=async e=>{if(window.confirm("Are you sure you want to delete this trip?"))try{await b.e.deleteTrip(e),o(a=>a.filter(a=>a._id!==e)),v.ZP.success("Trip deleted successfully")}catch(e){console.error("Error deleting trip:",e),v.ZP.error("Failed to delete trip")}},C=e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(e){return"Date TBD"}},P=j.length>0?(j.reduce((e,a)=>e+a.rating,0)/j.length).toFixed(1):"New";return a||e&&k?(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-[70vh] space-y-4",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"})}),(0,r.jsx)("p",{className:"text-gray-500 font-medium animate-pulse",children:"Loading your profile..."})]}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"h-60 md:h-72 bg-gradient-to-br from-indigo-600 via-indigo-700 to-violet-800"}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,r.jsx)("div",{className:"relative -mt-24",children:(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] shadow-2xl shadow-gray-200/60 p-6 md:p-10 border border-white flex flex-col md:flex-row items-center md:items-end gap-8",children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"w-40 h-40 rounded-[2rem] border-[6px] border-white overflow-hidden shadow-2xl bg-gray-50 bg-white",children:(0,r.jsx)("img",{src:e.photoURL||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(e.displayName||"User"),"&background=6366f1&color=fff"),alt:"Profile",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}),(0,r.jsx)(i.default,{href:"/edit-profile",className:"absolute -bottom-2 -right-2 p-3 bg-indigo-600 text-white rounded-2xl shadow-lg border-4 border-white hover:bg-indigo-700 transition-all scale-90 group-hover:scale-100",children:(0,r.jsx)(c,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 text-center md:text-left mb-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-3",children:(0,r.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 text-xs font-bold uppercase tracking-wider",children:"Explorer Account"})}),(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 tracking-tight leading-none mb-2",children:e.displayName||"Traveler"}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-start gap-3 text-gray-500 mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-2xl border border-gray-100",children:[(0,r.jsx)(u,{className:"w-4 h-4 text-indigo-500"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.email})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 rounded-2xl border border-amber-100 text-amber-900",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),(0,r.jsx)("span",{className:"text-sm font-bold",children:P}),(0,r.jsxs)("span",{className:"text-xs opacity-70",children:["(",j.length," reviews)"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 rounded-2xl border border-blue-100 text-blue-900",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 text-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-bold",children:t.length}),(0,r.jsx)("span",{className:"text-xs opacity-70",children:"Trips Created"})]})]})]}),(0,r.jsx)("div",{className:"flex gap-3 w-full md:w-auto",children:(0,r.jsxs)(i.default,{href:"/create-trip",className:"flex-1 md:flex-none px-8 py-4 bg-indigo-600 text-white rounded-2xl font-bold hover:bg-indigo-700 transition-all flex items-center justify-center shadow-xl shadow-indigo-100 group",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5 mr-2 group-hover:rotate-90 transition-transform"}),"New Trip"]})})]})})})]}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-16 grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-10 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Your Adventures"}),(0,r.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage and explore your planned journeys"})]}),(0,r.jsx)("div",{className:"h-1 w-20 bg-indigo-600 rounded-full hidden md:block mb-2"})]}),0===t.length?(0,r.jsxs)("div",{className:"bg-white border-4 border-dashed border-gray-100 rounded-[3rem] p-20 text-center",children:[(0,r.jsx)("div",{className:"bg-indigo-50 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)(h.Z,{className:"w-10 h-10 text-indigo-300"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Ready for a new story?"}),(0,r.jsx)("p",{className:"text-gray-500 mb-8 max-w-sm mx-auto mt-2",children:"You haven't created any trips yet. Your next passport stamp is just a click away."}),(0,r.jsx)(i.default,{href:"/create-trip",className:"inline-flex items-center px-10 py-4 bg-indigo-600 text-white font-bold rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:"Plan Your First Trip"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map(e=>(0,r.jsxs)("div",{className:"group bg-white rounded-[2.5rem] overflow-hidden shadow-sm hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-gray-100 flex flex-col",children:[(0,r.jsxs)("div",{className:"relative h-64 overflow-hidden",children:[(0,r.jsx)("img",{src:e.imageUrl||"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&w=800&q=80",alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),(0,r.jsx)("div",{className:"absolute top-5 right-5 flex gap-2",children:(0,r.jsx)("button",{onClick:()=>U(e._id),className:"p-3 bg-white/90 backdrop-blur-md text-red-500 rounded-2xl hover:bg-red-500 hover:text-white transition-all shadow-sm",children:(0,r.jsx)(p.Z,{className:"w-5 h-5"})})}),(0,r.jsx)("div",{className:"absolute bottom-5 left-5",children:(0,r.jsx)("div",{className:"px-4 py-2 bg-white/90 backdrop-blur-md rounded-xl text-xs font-black uppercase tracking-widest text-indigo-600 shadow-sm",children:e.destination})})]}),(0,r.jsxs)("div",{className:"p-8 flex-1 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-400 text-xs font-bold mb-3",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),C(e.startDate)]}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3 leading-tight",children:e.title}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm line-clamp-2 mb-8 leading-relaxed italic",children:['"',e.description||"No description provided for this adventure.",'"']}),(0,r.jsx)("div",{className:"mt-auto",children:(0,r.jsxs)(i.default,{href:"/trip/".concat(e._id),className:"w-full py-4 bg-gray-50 text-gray-900 rounded-2xl font-bold text-sm flex items-center justify-center hover:bg-indigo-600 hover:text-white transition-all border border-gray-100 hover:border-indigo-600 shadow-sm",children:["Explore Journey",(0,r.jsx)(f,{className:"w-4 h-4 ml-2"})]})})]})]},e._id))})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-gray-100 p-8 sticky top-24",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-black text-gray-900",children:"Reviews"}),(0,r.jsx)("div",{className:"bg-indigo-50 p-2 rounded-xl text-indigo-600",children:(0,r.jsx)(y,{className:"w-5 h-5"})})]}),0===j.length?(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("p",{className:"text-gray-400 font-medium",children:"No reviews yet."}),(0,r.jsx)("p",{className:"text-xs text-gray-300 mt-2",children:"Complete trips to get rated!"})]}):(0,r.jsx)("div",{className:"space-y-6",children:j.map(e=>(0,r.jsxs)("div",{className:"pb-6 border-b border-gray-50 last:border-0 last:pb-0",children:[(0,r.jsxs)("div",{className:"flex items-center mb-3",children:[(0,r.jsx)("div",{className:"flex text-amber-400",children:[void 0,void 0,void 0,void 0,void 0].map((a,t)=>(0,r.jsx)(x.Z,{className:"w-4 h-4 ".concat(t<e.rating?"fill-current":"text-gray-200")},t))}),(0,r.jsx)("span",{className:"ml-auto text-xs text-gray-400 font-medium",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm leading-relaxed mb-3",children:['"',e.comment,'"']}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 overflow-hidden mr-3",children:"object"==typeof e.reviewer&&e.reviewer.photoURL?(0,r.jsx)("img",{src:e.reviewer.photoURL,alt:"Reviewer",className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 font-bold text-xs",children:"?"})}),(0,r.jsx)("span",{className:"text-xs font-bold text-gray-900",children:"object"==typeof e.reviewer?e.reviewer.name:"Traveler"})]})]},e._id))})]})})]})]}):(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-20 text-center",children:(0,r.jsxs)("div",{className:"bg-white p-10 rounded-[2.5rem] shadow-xl shadow-gray-200/50 max-w-md mx-auto border border-gray-100",children:[(0,r.jsx)("div",{className:"bg-indigo-50 w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6 rotate-3",children:(0,r.jsx)(n.Z,{className:"w-10 h-10 text-indigo-600 -rotate-3"})}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sign in Required"}),(0,r.jsx)("p",{className:"text-gray-500 mb-8",children:"Please log in to manage your journeys and view your saved trips."}),(0,r.jsxs)(i.default,{href:"/login",className:"w-full flex items-center justify-center gap-2 py-4 bg-indigo-600 text-white rounded-2xl font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200",children:[(0,r.jsx)(d,{className:"w-5 h-5"}),"Sign In to Continue"]})]})})}},7048:function(e,a,t){"use strict";t.d(a,{a:function(){return i}});var r=t(1444),s=t(7594);function i(){let e=(0,r.I0)(),{currentUser:a,loading:t,error:i}=(0,r.v9)(e=>e.auth);return{currentUser:a,loading:t,error:i,register:(a,t,r)=>e((0,s.z2)({email:a,password:t,name:r})),login:(a,t)=>e((0,s.x4)({email:a,password:t})),loginWithGoogle:()=>e((0,s.Cb)()),logout:()=>e((0,s.kS)()),updateUserProfile:a=>e((0,s.Lj)(a))}}},4438:function(e,a,t){"use strict";let r=t(8472).Z.create({headers:{"Content-Type":"application/json"}});a.Z=r},6648:function(e,a,t){"use strict";t.d(a,{p:function(){return s}});var r=t(4438);let s={createReview:async e=>(await r.Z.post("/api/reviews",e)).data,getUserReviews:async e=>(await r.Z.get("/api/reviews/user/".concat(e))).data}},6223:function(e,a,t){"use strict";t.d(a,{e:function(){return s}});var r=t(4438);let s={searchTrips:async e=>(await r.Z.get("/api/trips/search?".concat(e.toString()))).data,getTripById:async e=>(await r.Z.get("/api/trips/".concat(e))).data,getUserTrips:async e=>(await r.Z.get("/api/trips/user/".concat(e))).data,createTrip:async e=>(await r.Z.post("/api/trips",e)).data,deleteTrip:async e=>(await r.Z.delete("/api/trips/".concat(e))).data,joinTrip:async(e,a)=>(await r.Z.post("/api/trips/".concat(e,"/join"),a)).data,leaveTrip:async(e,a)=>(await r.Z.post("/api/trips/".concat(e,"/leave"),a)).data,getComments:async e=>(await r.Z.get("/api/trips/".concat(e,"/comments"))).data,addComment:async(e,a)=>(await r.Z.post("/api/trips/".concat(e,"/comments"),a)).data,getExpenses:async e=>{try{return(await r.Z.get("/api/trips/".concat(e,"/expenses"))).data}catch(e){return console.warn("Expense API not ready, returning mock data"),[]}},addExpense:async(e,a)=>(await r.Z.post("/api/trips/".concat(e,"/expenses"),a)).data,deleteExpense:async(e,a)=>(await r.Z.delete("/api/trips/".concat(e,"/expenses/").concat(a))).data}},7594:function(e,a,t){"use strict";t.d(a,{ZP:function(){return j},uJ:function(){return x},x4:function(){return m},Cb:function(){return p},kS:function(){return g},z2:function(){return h},Lj:function(){return f}});var r=t(6862),s=t(5735),i=t(5236),l=t(9854);let n=(0,i.ZF)({apiKey:"AIzaSyCGhp1cC_bCwRHFzSrI3yTDJ9LOOlZy1i4",authDomain:"explokar-a27aa.firebaseapp.com",projectId:"explokar-a27aa",storageBucket:"explokar-a27aa.firebasestorage.app",messagingSenderId:"672347253575",appId:"1:672347253575:web:24ab4e1304c83a01277a62"}),o=(0,s.v0)(n);(0,l.cF)(n);var d=t(8472),c=t(8726);let u=e=>({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL}),x=(0,r.hg)("auth/initialize",async(e,a)=>{let{dispatch:t}=a;return new Promise(e=>{let a=(0,s.Aj)(o,r=>{t(b(r?u(r):null)),a(),e()})})}),h=(0,r.hg)("auth/register",async(e,a)=>{let{email:t,password:r,name:i}=e,{rejectWithValue:l}=a;try{let e=await (0,s.Xb)(o,t,r);return await (0,s.ck)(e.user,{displayName:i}),await d.Z.post("/api/auth",{uid:e.user.uid,email:e.user.email,name:i,photoURL:e.user.photoURL||""}),u(e.user)}catch(e){return console.error("Error during registration:",e),c.ZP.error(e.message),l(e.message)}}),m=(0,r.hg)("auth/login",async(e,a)=>{let{email:t,password:r}=e,{rejectWithValue:i}=a;try{let e=await (0,s.e5)(o,t,r);return u(e.user)}catch(e){return console.error("Error during login:",e),c.ZP.error(e.message),i(e.message)}}),p=(0,r.hg)("auth/loginWithGoogle",async(e,a)=>{let{rejectWithValue:t}=a;try{let e=new s.hJ,a=await (0,s.rh)(o,e);try{await d.Z.post("/api/auth",{uid:a.user.uid,email:a.user.email,name:a.user.displayName,photoURL:a.user.photoURL||""})}catch(e){console.log("User might already exist in the database.")}return u(a.user)}catch(e){return"auth/popup-blocked"===e.code?await (0,s.F6)(o,new s.hJ):(console.error("Error during Google login:",e),c.ZP.error(e.message)),t(e.message)}}),g=(0,r.hg)("auth/logout",async(e,a)=>{let{rejectWithValue:t}=a;try{await (0,s.w7)(o),c.ZP.success("Successfully logged out")}catch(e){return console.error("Error during logout:",e),c.ZP.error("Failed to log out"),t(e.message)}}),f=(0,r.hg)("auth/updateProfile",async(e,a)=>{let{getState:t,rejectWithValue:r}=a;t();let i=o.currentUser;if(!i)return r("No user logged in");try{return await (0,s.ck)(i,e),await d.Z.put("/api/auth/".concat(i.uid),{name:e.displayName,photoURL:e.photoURL}),c.ZP.success("Profile updated successfully"),e}catch(e){return console.error("Error updating profile:",e),c.ZP.error("Failed to update profile"),r(e.message)}}),y=(0,r.oM)({name:"auth",initialState:{currentUser:null,loading:!0,error:null},reducers:{setUser:(e,a)=>{e.currentUser=a.payload,e.loading=!1},setLoading:(e,a)=>{e.loading=a.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(h.pending,e=>{e.loading=!0,e.error=null}).addCase(h.fulfilled,(e,a)=>{e.currentUser=a.payload,e.loading=!1}).addCase(h.rejected,(e,a)=>{e.error=a.payload,e.loading=!1}).addCase(m.pending,e=>{e.loading=!0,e.error=null}).addCase(m.fulfilled,(e,a)=>{e.currentUser=a.payload,e.loading=!1}).addCase(m.rejected,(e,a)=>{e.error=a.payload,e.loading=!1}).addCase(p.pending,e=>{e.loading=!0,e.error=null}).addCase(p.fulfilled,(e,a)=>{e.currentUser=a.payload,e.loading=!1}).addCase(p.rejected,(e,a)=>{e.error=a.payload,e.loading=!1}).addCase(g.fulfilled,e=>{e.currentUser=null}).addCase(f.fulfilled,(e,a)=>{e.currentUser&&(e.currentUser={...e.currentUser,...a.payload})})}}),{setUser:b,setLoading:w,clearError:v}=y.actions;var j=y.reducer}},function(e){e.O(0,[139,18,344,233,971,23,744],function(){return e(e.s=349)}),_N_E=e.O()}]);