(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{1124:function(e,r,a){Promise.resolve().then(a.bind(a,3871))},7515:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(1066).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6463:function(e,r,a){"use strict";var t=a(1169);a.o(t,"useParams")&&a.d(r,{useParams:function(){return t.useParams}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},3871:function(e,r,a){"use strict";a.r(r);var t=a(7437),s=a(2265),l=a(7138),o=a(6463),i=a(7048),n=a(7515),u=a(8726);r.default=()=>{let[e,r]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),{login:g,loginWithGoogle:f}=(0,i.a)(),x=(0,o.useRouter)(),y=async r=>{r.preventDefault();try{h(""),p(!0),await g(e,a),u.ZP.success("Successfully logged in!"),x.push("/")}catch(r){let e=r.message||"Failed to log in. Please check your credentials.";h(e),u.ZP.error(e)}finally{p(!1)}},b=async()=>{try{h(""),p(!0),await f(),u.ZP.success("Successfully logged in with Google!"),x.push("/")}catch(r){let e="Failed to log in with Google";"auth/unauthorized-domain"===r.code?e="This domain is not authorized. Please use the official application URL.":"auth/popup-blocked"===r.code&&(e="Popup was blocked. Please allow popups for this site."),h(e),u.ZP.error(e)}finally{p(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen grid grid-cols-1 lg:grid-cols-2",children:[(0,t.jsx)("div",{className:"flex flex-col justify-center px-8 sm:px-12 lg:px-24 py-12 bg-white",children:(0,t.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[(0,t.jsx)(l.default,{href:"/",className:"text-2xl font-bold text-slate-900 tracking-tight mb-12 block",children:"Explokar"}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Welcome back"}),(0,t.jsx)("p",{className:"text-slate-500 mb-8",children:"Please enter your details to sign in."}),d&&(0,t.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-100 text-red-600 px-4 py-3 rounded-lg flex items-start gap-2 text-sm",children:[(0,t.jsx)(n.Z,{className:"h-5 w-5 flex-shrink-0"}),(0,t.jsx)("span",{children:d})]}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email address"}),(0,t.jsx)("input",{id:"email",type:"email",required:!0,value:e,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 transition-colors",placeholder:"Enter your email"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",required:!0,value:a,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 transition-colors",placeholder:"Enter your password"})]}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full py-2.5 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors disabled:opacity-50",children:m?"Signing in...":"Sign in"})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-slate-200"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-slate-500",children:"Or continue with"})})]}),(0,t.jsxs)("button",{onClick:b,disabled:m,className:"mt-6 w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:[(0,t.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,t.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,t.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,t.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),(0,t.jsxs)("p",{className:"mt-8 text-center text-sm text-slate-600",children:["Don't have an account?"," ",(0,t.jsx)(l.default,{href:"/register",className:"font-medium text-slate-900 hover:underline",children:"Sign up"})]})]})}),(0,t.jsxs)("div",{className:"hidden lg:block relative bg-slate-900",children:[(0,t.jsx)("img",{src:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=2021&q=80",alt:"Travel",className:"absolute inset-0 w-full h-full object-cover opacity-60 mix-blend-overlay"}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-12 text-white",children:[(0,t.jsx)("blockquote",{className:"text-2xl font-medium leading-relaxed mb-4",children:'"Explokar helped me find the perfect travel buddies for my trip to Bali. Best experience ever!"'}),(0,t.jsx)("p",{className:"font-bold",children:"Sofia Davis"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Travel Enthusiast"})]})]})]})}},7048:function(e,r,a){"use strict";a.d(r,{a:function(){return l}});var t=a(1444),s=a(7594);function l(){let e=(0,t.I0)(),{currentUser:r,loading:a,error:l}=(0,t.v9)(e=>e.auth);return{currentUser:r,loading:a,error:l,register:(r,a,t)=>e((0,s.z2)({email:r,password:a,name:t})),login:(r,a)=>e((0,s.x4)({email:r,password:a})),loginWithGoogle:()=>e((0,s.Cb)()),logout:()=>e((0,s.kS)()),updateUserProfile:r=>e((0,s.Lj)(r))}}},7594:function(e,r,a){"use strict";a.d(r,{ZP:function(){return w},uJ:function(){return h},x4:function(){return p},Cb:function(){return g},kS:function(){return f},z2:function(){return m},Lj:function(){return x}});var t=a(6862),s=a(5735),l=a(5236),o=a(9854);let i=(0,l.ZF)({apiKey:"AIzaSyCGhp1cC_bCwRHFzSrI3yTDJ9LOOlZy1i4",authDomain:"explokar-a27aa.firebaseapp.com",projectId:"explokar-a27aa",storageBucket:"explokar-a27aa.firebasestorage.app",messagingSenderId:"672347253575",appId:"1:672347253575:web:24ab4e1304c83a01277a62"}),n=(0,s.v0)(i);(0,o.cF)(i);var u=a(8472),c=a(8726);let d=e=>({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL}),h=(0,t.hg)("auth/initialize",async(e,r)=>{let{dispatch:a}=r;return new Promise(e=>{let r=(0,s.Aj)(n,t=>{a(b(t?d(t):null)),r(),e()})})}),m=(0,t.hg)("auth/register",async(e,r)=>{let{email:a,password:t,name:l}=e,{rejectWithValue:o}=r;try{let e=await (0,s.Xb)(n,a,t);return await (0,s.ck)(e.user,{displayName:l}),await u.Z.post("/api/auth",{uid:e.user.uid,email:e.user.email,name:l,photoURL:e.user.photoURL||""}),d(e.user)}catch(e){return console.error("Error during registration:",e),c.ZP.error(e.message),o(e.message)}}),p=(0,t.hg)("auth/login",async(e,r)=>{let{email:a,password:t}=e,{rejectWithValue:l}=r;try{let e=await (0,s.e5)(n,a,t);return d(e.user)}catch(e){return console.error("Error during login:",e),c.ZP.error(e.message),l(e.message)}}),g=(0,t.hg)("auth/loginWithGoogle",async(e,r)=>{let{rejectWithValue:a}=r;try{let e=new s.hJ,r=await (0,s.rh)(n,e);try{await u.Z.post("/api/auth",{uid:r.user.uid,email:r.user.email,name:r.user.displayName,photoURL:r.user.photoURL||""})}catch(e){console.log("User might already exist in the database.")}return d(r.user)}catch(e){return"auth/popup-blocked"===e.code?await (0,s.F6)(n,new s.hJ):(console.error("Error during Google login:",e),c.ZP.error(e.message)),a(e.message)}}),f=(0,t.hg)("auth/logout",async(e,r)=>{let{rejectWithValue:a}=r;try{await (0,s.w7)(n),c.ZP.success("Successfully logged out")}catch(e){return console.error("Error during logout:",e),c.ZP.error("Failed to log out"),a(e.message)}}),x=(0,t.hg)("auth/updateProfile",async(e,r)=>{let{getState:a,rejectWithValue:t}=r;a();let l=n.currentUser;if(!l)return t("No user logged in");try{return await (0,s.ck)(l,e),await u.Z.put("/api/auth/".concat(l.uid),{name:e.displayName,photoURL:e.photoURL}),c.ZP.success("Profile updated successfully"),e}catch(e){return console.error("Error updating profile:",e),c.ZP.error("Failed to update profile"),t(e.message)}}),y=(0,t.oM)({name:"auth",initialState:{currentUser:null,loading:!0,error:null},reducers:{setUser:(e,r)=>{e.currentUser=r.payload,e.loading=!1},setLoading:(e,r)=>{e.loading=r.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(m.pending,e=>{e.loading=!0,e.error=null}).addCase(m.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(m.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(p.pending,e=>{e.loading=!0,e.error=null}).addCase(p.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(p.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(g.pending,e=>{e.loading=!0,e.error=null}).addCase(g.fulfilled,(e,r)=>{e.currentUser=r.payload,e.loading=!1}).addCase(g.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(f.fulfilled,e=>{e.currentUser=null}).addCase(x.fulfilled,(e,r)=>{e.currentUser&&(e.currentUser={...e.currentUser,...r.payload})})}}),{setUser:b,setLoading:j,clearError:v}=y.actions;var w=y.reducer}},function(e){e.O(0,[139,18,344,233,971,23,744],function(){return e(e.s=1124)}),_N_E=e.O()}]);